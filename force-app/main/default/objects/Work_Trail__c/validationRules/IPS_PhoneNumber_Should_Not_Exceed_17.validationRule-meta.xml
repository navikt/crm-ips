<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>IPS_PhoneNumber_Should_Not_Exceed_17</fullName>
    <active>true</active>
    <description>Phone Numbers should not excedd 17 Digits including the Country Code, when provided.</description>
    <errorConditionFormula>OR( 
 AND(
  NOT ISBLANK(IPS_Partticipant_phone_number__c), 
  LEFT(IPS_Partticipant_phone_number__c, 3) == &quot;+47&quot;,
  LEN(IPS_Partticipant_phone_number__c) &gt; 11 
 ),
 AND(
  NOT ISBLANK(IPS_Partticipant_phone_number__c), 
  LEFT(IPS_Partticipant_phone_number__c, 1) == &quot;+&quot;,
  LEN(IPS_Partticipant_phone_number__c) &gt; 21
 ), 
 AND(
  NOT ISBLANK(IPS_Partticipant_phone_number__c), 
  LEFT(IPS_Partticipant_phone_number__c, 1) != &quot;+&quot;,
  LEN(IPS_Partticipant_phone_number__c) &gt; 17
 )
)</errorConditionFormula>
    <errorDisplayField>IPS_Partticipant_phone_number__c</errorDisplayField>
    <errorMessage>Norwgian Phone Numbers should not exceed 11 charachters. Other Phone Numbers should not exceed 17 numbers excluding the country code</errorMessage>
</ValidationRule>
